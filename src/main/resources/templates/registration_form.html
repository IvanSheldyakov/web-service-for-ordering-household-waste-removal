<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Регистрация: шаг 1</title>
    <link rel="stylesheet" th:href="@{/css/registration.css}">
</head>
<body>
<div th:replace="~{fragments/layout :: header('Регистрация пользователя')}"></div>
<main class="app-shell">
    <section class="card">
        <h2>Шаг 1. Данные пользователя и адрес</h2>
        <p class="hint">Введите базовые данные. Поля, отмеченные *, обязательны.</p>

        <p class="error" th:if="${phoneConflictMessage}" th:text="${phoneConflictMessage}"></p>

        <form th:action="@{/registration}" th:object="${registrationForm}" method="post">
            <div class="form-grid">
                <label>Телефон*
                    <input type="text" th:field="*{phone}" placeholder="79001234567">
                    <span class="error" th:errors="*{phone}"></span>
                </label>

                <label>Электронная почта*
                    <input type="email" th:field="*{email}" placeholder="Введите электронную почту">
                    <span class="error" th:errors="*{email}"></span>
                </label>

                <label>Имя*
                    <input type="text" th:field="*{name}">
                    <span class="error" th:errors="*{name}"></span>
                </label>

                <label>Фамилия*
                    <input type="text" th:field="*{surname}">
                    <span class="error" th:errors="*{surname}"></span>
                </label>

                <label>Отчество (необязательно)
                    <input type="text" th:field="*{patronymic}">
                    <span class="error" th:errors="*{patronymic}"></span>
                </label>

                <label>Код страны*
                    <input type="text" th:field="*{countryCode}" placeholder="RU">
                    <span class="error" th:errors="*{countryCode}"></span>
                </label>

                <label>Регион*
                    <input type="text" th:field="*{region}">
                    <span class="error" th:errors="*{region}"></span>
                </label>

                <label>Город*
                    <input type="text" th:field="*{city}">
                    <span class="error" th:errors="*{city}"></span>
                </label>

                <label>Почтовый индекс*
                    <input type="text" th:field="*{postalCode}">
                    <span class="error" th:errors="*{postalCode}"></span>
                </label>

                <label class="full-width">Подробный адрес*
                    <input type="text" th:field="*{detailedAddress}" placeholder="Улица, дом, квартира">
                    <span class="error" th:errors="*{detailedAddress}"></span>
                </label>

                <label>Часовой пояс (Россия)*
                    <select th:field="*{timezone}" required>
                        <option value="" disabled
                                th:selected="${registrationForm.timezone == null || #strings.isEmpty(registrationForm.timezone)}">
                            Выберите часовой пояс
                        </option>
                        <option th:each="tz : ${timezones}" th:value="${tz}" th:text="${tz}"></option>
                    </select>
                    <span class="error" th:errors="*{timezone}"></span>
                </label>
            </div>
            <button type="submit">Далее</button>
        </form>
    </section>
</main>
</body>
</html>
